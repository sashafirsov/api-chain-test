import{setProp as a}from"./ApiChain.js";class l extends Array{attr(...t){return t.length>1?this.setAttribute(...t):this.getAttribute(...t)}prop(...t){return t.length>1?this.forEach(e=>e[t[0]]=t[1]):this[0][t[0]]}forEach(...t){return Array.prototype.forEach.apply(this,t),this}map(...t){return Array.prototype.map.apply(this,t)}push(...t){return Array.prototype.push.apply(this,t),this}querySelector(t){return new l().push(this.querySelectorAll(t)[0])}querySelectorAll(t){return this.reduce((e,r)=>e.push(...r.querySelectorAll(t)),new l)}parent(t){const e=new Set,r=n=>e.has(n)?0:(e.add(n),n),p=n=>{for(;n=n.parentElement;)if(n.matches(t))return r(n)};return this.map(t?p:n=>r(n.parentElement)).filter(n=>n)}}const s=new Set,i=Object.getPrototypeOf({});export function applyPrototype(o,t){const e=typeof o=="string"?document.createElement(o):o;if(!s.has(e.tagName)){s.add(e.tagName);for(let r in e)r in t.prototype||a(e,r,t);for(let r;(r=Object.getPrototypeOf(e))!==i&&r!=null&&!s.has(r);){s.add(r);for(let p of Object.getOwnPropertyNames(r))p in t.prototype||a(e,p,t)}}}Object.getOwnPropertyNames(window).filter(o=>o.startsWith("HTML")&&o.endsWith("Element")&&o.length>11).map(o=>o.substring(4,o.length-7).toLowerCase()).forEach(o=>applyPrototype(document.createElement(o),l));export function CssChain(o,t=document,e=[]){const r=t.querySelectorAll(o);Array.isArray(e)?e.length||(e=[...r].slice(0,256)):e=[e],e.forEach(n=>applyPrototype(n,l));const p=new l;return p.push(...r),p}export default CssChain;
//# sourceMappingURL=CssChain.js.map
