{
  "version": 3,
  "sources": ["../src/ApiChain.js"],
  "sourcesContent": ["const Prototype2ApiChain = new Map();\nconst OBJ_prototype = Object.getPrototypeOf( {} );\n\n    export const\nsetProp = ( refObj, k, ApiChainLocal )=>\n{\n    if( typeof refObj[ k ] == 'function' )\n    {   ApiChainLocal.prototype[ k ] = function( ...args )\n        {   if( k.startsWith('get') )\n            {\n                if( this.length )\n                    return this[ 0 ][ k ]( ...args )\n                else\n                    return;\n            }\n            this.forEach( el => el[ k ]( ...args ) );\n            return this;\n        }\n    }else\n    {   Object.defineProperty( ApiChainLocal.prototype, k,\n        {   get  : function(){ if( this.length ) return this[ 0 ][ k ] }\n        ,   set: function( v )\n            {  this.forEach( el => el[ k ] = v );\n               return v\n            }\n        } );\n    }\n}\n    function\napplyPrototype( elementProto, refObj )\n{   let ChainClass = Prototype2ApiChain.get(elementProto);\n    if( ChainClass )\n        return ChainClass;\n\n    class ApiChainLocal extends Array{}\n\n    const applied = {\"constructor\":1};\n    for ( let obj=refObj; obj !== OBJ_prototype && obj != null ; obj = Object.getPrototypeOf(obj))\n    {\n        for( let k of Object.getOwnPropertyNames(obj) )\n            if( !applied[k])\n            {   setProp( refObj, k, ApiChainLocal );\n                applied[k]=1;\n            }\n    }\n    Prototype2ApiChain.set(elementProto, ApiChainLocal);\n    return ApiChainLocal;\n}\n    export function\nApiChain( elOrArr, elementProto = undefined )\n{\n    const isArr = Array.isArray( elOrArr );\n    const arr =  isArr ? elOrArr : [ elOrArr ];\n    if( ! elementProto )\n        elementProto = Object.getPrototypeOf( isArr ? elOrArr[0] : elOrArr );\n    const refObj = arr[0];\n    if( elementProto === OBJ_prototype )\n    {\n        class ApiChainLocal extends Array{}\n\n        for( let k in refObj )\n            setProp( refObj, k, ApiChainLocal );\n        const ret = new ApiChainLocal();\n        ret.push(...arr);\n        return ret;\n    }\n\n    // class object\n    const ApiChain = applyPrototype( elementProto, refObj );\n\n    const ret = new ApiChain();\n    ret.push(...arr);\n    return ret;\n}\nexport default ApiChain;\n"],
  "mappings": "aAAA,MAAMA,EAAqB,IAAI,IACzBC,EAAgB,OAAO,eAAgB,CAAC,CAAE,EAErC,aACX,QAAU,CAAEC,EAAQC,EAAGC,IACvB,CACQ,OAAOF,EAAQC,CAAE,GAAK,WACtBC,EAAc,UAAWD,CAAE,EAAI,YAAaE,EAC5C,CAAI,OAAIF,EAAE,WAAW,KAAK,EAEd,KAAK,OACE,KAAM,CAAE,EAAGA,CAAE,EAAG,GAAGE,CAAK,EAE/B,QAER,KAAK,QAASC,GAAMA,EAAIH,CAAE,EAAG,GAAGE,CAAK,CAAE,EAChC,KACX,EAEA,OAAO,eAAgBD,EAAc,UAAWD,EAChD,CAAI,IAAO,UAAU,CAAE,GAAI,KAAK,OAAS,OAAO,KAAM,CAAE,EAAGA,CAAE,CAAE,EAC3D,IAAK,SAAUI,EACf,CAAG,YAAK,QAASD,GAAMA,EAAIH,CAAE,EAAII,CAAE,EACzBA,CACV,CACJ,CAAE,CAEV,EACI,SACJC,EAAgBC,EAAcP,EAC9B,CAAI,IAAIQ,EAAaV,EAAmB,IAAIS,CAAY,EACpD,GAAIC,EACA,OAAOA,EAEX,MAAMN,UAAsB,KAAK,CAAC,CAElC,MAAMO,EAAU,CAAC,YAAc,CAAC,EAChC,QAAUC,EAAIV,EAAQU,IAAQX,GAAiBW,GAAO,KAAOA,EAAM,OAAO,eAAeA,CAAG,EAExF,QAAST,KAAK,OAAO,oBAAoBS,CAAG,EACnCD,EAAQR,CAAC,IACV,QAASD,EAAQC,EAAGC,CAAc,EAClCO,EAAQR,CAAC,EAAE,GAGvB,OAAAH,EAAmB,IAAIS,EAAcL,CAAa,EAC3CA,CACX,CACW,gBACX,SAAUS,EAASJ,EAAe,OAClC,CACI,MAAMK,EAAQ,MAAM,QAASD,CAAQ,EAC/BE,EAAOD,EAAQD,EAAU,CAAEA,CAAQ,EACnCJ,IACFA,EAAe,OAAO,eAAgBK,EAAQD,EAAQ,CAAC,EAAIA,CAAQ,GACvE,MAAMX,EAASa,EAAI,CAAC,EACpB,GAAIN,IAAiBR,EACrB,CACI,MAAMG,UAAsB,KAAK,CAAC,CAElC,QAASD,KAAKD,EACV,QAASA,EAAQC,EAAGC,CAAc,EACtC,MAAMY,EAAM,IAAIZ,EAChB,OAAAY,EAAI,KAAK,GAAGD,CAAG,EACRC,CACX,CAGA,MAAMC,EAAWT,EAAgBC,EAAcP,CAAO,EAEhDc,EAAM,IAAIC,EAChB,OAAAD,EAAI,KAAK,GAAGD,CAAG,EACRC,CACX,CACA,eAAe",
  "names": ["Prototype2ApiChain", "OBJ_prototype", "refObj", "k", "ApiChainLocal", "args", "el", "v", "applyPrototype", "elementProto", "ChainClass", "applied", "obj", "elOrArr", "isArr", "arr", "ret", "ApiChain"]
}
